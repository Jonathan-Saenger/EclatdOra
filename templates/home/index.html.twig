{% extends 'base.html.twig' %}

{% block title %}Page d'accueil{% endblock %}

{% block body %}
    <div class="text-center alert-success">
            {% for flashMessage in app.flashes('success') %}
                <h4> {{ flashMessage }} </h4>
            {% endfor %}
    </div>
    <div class="fond mt-3">
        <div class="container marketing py-3 ">
            <div class="row featurette">
                <div class="col-md-7">
                    <h1 class="text-center">BIENVENUE !</h1>
                    <p class="lead pt-3"> Je suis Cédric MEYER, un passionné par l'Etre Humain, la Vie et les mystères de la conscience. Le bien-être et l’épanouissement personnel
                    sont au cœur de mon activité. A travers Eclat d'ORA, je vous propose de vous accompagner sur le chemin de la découverte de soi par le biais de pratiques
                    ancestrales et innovantes sur lesquelles j'ai été formé. Mon rôle est de vous offrir des expériences uniques et transformatrices, en vous invitant à explorer des
                    pratiques telles que la formation Reiki, l'hypnose transpersonnelle, la méditation ou encore la Lucia.<br>
                    Chaque activité que je vous propose est conçue pour vous aider à vous connecter avec votre propre énergie, à découvrir des moyens de guérir et de se réconforter.
                    Je vous invite à explorer mes services et à découvrir comment ces pratiques, par l'énergie et la sagesse qui s'y cachent, peuvent vous aider à atteindre votre plein
                    potentiel et à vivre une vie plus épanouie en harmonie avec vous-même.<br><br>
                    Je suis convaincu que chaque visiteur est un voyageur curieux et ouvert, prêt à découvrir de nouvelles façons de vivre et de se sentir bien. N'hésitez pas à me
                    contacter si vous souhaitez échanger directement avec moi. <br><br>
                    Je vous souhaite une très belle visite ! </p>
                      <div class="text-center">
                        <href
                        <a class="bouton-or"> En savoir plus </a>
                      </div>
                </div>
                <div class="col-md-5">
                    <img src="{{asset('images/cedric_index.webp')}}" class="img-fluid" alt="..." >
                </div>
            </div>
        </div>
    </div>

    <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-body-tertiary" style="background-image: url('{{asset('images/fond_evenement.webp')}}'); background-size: cover; background-position: center;">
        <div class=" text-center container">
              <h2>Prochain évènement</h2>
              <h4>A ne pas manquer !</h4>
        </div>
        {% for evenement in evenements %}
        <div class="px-4 my-3 text-center border-bottom">
            <h3>{{evenement.getTitle() }}</h3>
            <img src="{{ vich_uploader_asset(evenement,'imageFile') }}" class="img-fluid" width="550px" height="100%" alt="Image du dernier évènement">
            <div class="col-lg-6 mx-auto">
                <p class="lead mb-4">{{ evenement.getDescription() |striptags|slice(0, 250) }}</p>
                <p class="fw"> Début de l'évènement : {{evenement.getStart|format_date('long', locale='fr') }} </p>
                <p class="fw"> Fin de l'évènement : {{evenement.getEnd|format_date('long', locale='fr') }} </p>
                <div class="d-grid gap-2 d-sm-flex justify-content-sm-center mb-5">
                    <button type="button" class="bouton-or">S'inscrire</button>
                    <button type="button" class="bouton-or">Autres évènements</button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-body-tertiary" style="background-image: url('{{asset('images/formation_reiki_index.webp')}}'); background-size: cover; background-position: center;">
        <div class="col-md-6 p-lg-5 mx-auto my-5">
            <h2>Découvrez ma formation REIKI</h2>
            <h4> Je vous initie à cet art ancien de guérison énergétique pour harmoniser le corps et l’esprit.</h4>
            <div class="d-flex gap-3 justify-content-center lead fw-normal">
                <a class="link-dark link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" href="{{ path('app_formation') }}">
                  En savoir plus >
                </a>
                <a class="link-dark link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" href="#">
                  Réserver >
                </a>
            </div>
        </div>
    </div>

    <div class="fond">
        <div class="container mt-3 text-center">
              <h2>Découvrez mes prestations</h2>
              <p class="lead text-body-secondary">N'hésitez pas à me contacter pour en savoir plus !</p>
        </div>
        <div class="album mb-3">
            <div class="container">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                    <div class="col">
                        <div class="card shadow-sm hover-shadow transition-all">
                            <img src="{{asset('images/presentation_lucia.webp')}}" class="img-fluid" width="100%" height="225" alt="..." >
                            <div class="card-body">
                                <h3 class="card-title">Luminothérapie</h3>
                                <p class="card-text">Éveillez vos sens et illuminez votre esprit avec une expérience lumineuse unique qui ouvre les portes de la perception et enrichit votre vie quotidienne.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card shadow-sm hover-shadow transition-all">
                            <img src="{{asset('images/presentation_hypnose.webp')}}" class="img-fluid" width="100%" height="225" alt="..." >
                            <div class="card-body">
                                <h3 class="card-title">Hypnose transpersonnelle</h3>
                                <p class="card-text">Je vous transporte dans un voyage intérieur où les frontières de la conscience s'élargissent pour révéler un potentiel illimité.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card shadow-sm hover-shadow transition-all">
                            <img src="{{asset('images/presentation_meditation.webp')}}" class="img-fluid" width="100%" height="225" alt="..." >
                            <div class="card-body">
                                <h3 class="card-title">Méditation guidée</h3>
                                <p class="card-text">Dans le silence, effectuez un voyage vers la paix intérieure et la clarté mentale, où le tumulte du quotidien
                                se dissipe dans un océan de calme.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container mt-3 text-center">
            <button type="button" class="bouton-or mb-3">Réserver une séance</button>
        </div>
    </div>

    <!-- TEMOIGNAGE -->
    <div class="container py-5">
        <div class="row d-flex justify-content-center">
            <div class="col-md-10 col-xl-8 text-center">
                <h2>Merci pour votre confiance !</h2>
                <h4 class="mb-4 pb-2 mb-md-5 pb-md-0">
                    Je suis  profondément touchés par vos retours et témoignages. Un grand merci pour votre confiance
                    et le temps que vous avez consacré à partager votre expérience.
                </h4>
            </div>
        </div>

        <div class="row row-cols-1 row-cols-md-3 g-4">

            {% for temoignage in temoignages %}
            <div class="col">
                <div class="card h-100 border-0 shadow-sm hover-shadow transition-all" style="border-radius: 15px;">
                    <div class="card-body d-flex flex-column p-4">
                        <div class="text-center mb-4 position-relative">
                            <div class="rounded-circle position-absolute" style="width: 130px; height: 130px; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: rgba(209, 144, 57, 0.1);"></div> {# Changé la couleur ici #}
                                <img
                                    src="{{ vich_uploader_asset(temoignage,'imageFile') }}"
                                    class="rounded-circle shadow-lg position-relative"
                                    width="120"
                                    height="120"
                                    style="object-fit: cover; border: 4px solid #fff;"
                                    alt="Photo témoignage"
                                />
                            </div>
                            <h5 class="font-weight-bold text-center mb-1" style="color: #D19039">{{temoignage.getNom() }}</h5>
                            <h6 class="text-muted fw-semibold mb-3 text-center small text-uppercase tracking-wider">{{temoignage.getMetier() }}</h6>
                            <div class="flex-grow-1">
                                <div class="position-relative">
                                    <i class="fas fa-quote-left opacity-25 fa-2x position-absolute" style="top: -10px; left: -8px; color: #D19039;"></i>
                                    <p class="mb-2 ps-4 pt-2 text-secondary">
                                        {{temoignage.getCommentaire() | raw}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
            </div>

            <div class="container text-center">
            {% if is_granted('ROLE_USER') %}
                <button id="comment" type="button" class="bouton-or mb-3">Me laisser un commentaire</button>
            {% endif %}
            </div>

        <div id="temoignage" style="display: none">
            {{ form_start(temoignageForm)}}
                {{form_errors(temoignageForm)}}
                <div class="row g-3">
                    <div class="col-md-3">
                        <div class="form-floating">
                            {{ form_widget(temoignageForm.Nom, {'attr': {'class': 'form-control', 'placeholder': 'Votre Nom'}}) }}
                            {{ form_label(temoignageForm.Nom, 'Nom & Prénom') }}
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-floating">
                            {{ form_widget(temoignageForm.Email, {'attr': {'class': 'form-control', 'placeholder': 'Votre Email'}}) }}
                            {{ form_label(temoignageForm.Email, 'Votre Email') }}
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-floating">
                            {{ form_widget(temoignageForm.Metier, {'attr': {'class': 'form-control', 'placeholder': 'Votre Metier'}}) }}
                            {{ form_label(temoignageForm.Metier, 'Profession') }}
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="form-floating">
                            {{ form_widget(temoignageForm.Commentaire, {'attr': {'class': 'form-control', 'placeholder': 'Votre message', 'style': 'height: 150px;'}}) }}
                            {{ form_label(temoignageForm.Commentaire, 'Votre commentaire/temoignage') }}
                        </div>
                    </div>
                  <div class="col-12">
                      <button class="bouton-or" type="submit">Envoyer</button>
                  </div>
                </div>
            {{form_end(temoignageForm)}}
        </div>
        </div>
    </div>

<script>
document.getElementById('comment').addEventListener('click', function(event) {
    const temoignageDiv = document.getElementById('temoignage');
    if (temoignageDiv.style.display === 'none' || temoignageDiv.style.display === '') {
        temoignageDiv.style.display = 'block';
    }
});
</script>

<style>
.hover-shadow {
    transition: all 0.3s ease;
}

.hover-shadow:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.1) !important;
}

.tracking-wider {
    letter-spacing: 0.05em;
}

.transition-all {
    transition: all 0.3s ease-in-out;
}
</style>

{% endblock %}
